<%
var separator = theme.title_join_string || theme.tab_title_separator
var title = page.title ? [page.title, config.title].join(separator) : config.title
var keywords = page.keywords || config.keywords
if (keywords instanceof Array) {
    keywords = keywords.join(',')
}
var description = config.description
if (page.description) {
    description = page.description
} else if (page.excerpt) {
    description = strip_html(page.excerpt).substr(0, 200)
}
%>

<head>
    <meta charset="UTF-8">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="apple-mobile-web-app-title" content="jiayu.code">
    <meta name="application-name" content="jiayu.code">
    <meta name="msapplication-TileColor" content="#ff0000">
    <meta name="theme-color" content="#ffffff">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <% if (theme.force_https) { %>
        <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
    <% } %>
    <meta name="theme-color" content="<%= theme.color.navbar_bg_color %>">
    <meta name="description" content="<%= description %>">
    <meta name="author" content="<%= page.author || config.author %>">
    <meta name="keywords" content="<%= keywords %>">
    <% if (theme.custom_head) { %>
        <%- theme.custom_head %>
    <% } %>
    <title><%= title %></title>

    <%- partial('_partial/css.ejs') %>
    <%- export_config() %>
    <%- js_ex(theme.static_prefix.internal_js, 'utils.js') %>
    <%- js_ex(theme.static_prefix.internal_js, 'color-schema.js') %>
</head>
